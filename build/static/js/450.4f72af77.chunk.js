"use strict";(self.webpackChunkauthform=self.webpackChunkauthform||[]).push([[450],{9689:(t,e,i)=>{i.r(e),i.d(e,{default:()=>x});var s=i(5043),r=i(8659),n=i(3234),X=i.n(n);const h=i.p+"static/media/bricks.cdd96c7107fe8408ce06.png",o=i.p+"static/media/Roboto_Condensed-Regular.fdb9daac0ee9f129fd06.ttf",c=-10;class a{constructor(t,e){this.x=t,this.z=e,this.direction=-1,this.isMovingForward=!1,this.isRunning=!1,this.isStrafingLeft=!1,this.isStrafingRight=!1}moveForward(t){let e=0,i=0;const s=this.isRunning?-25:c;this.isMovingForward&&(e+=Math.sin(this.direction)*s,i+=Math.cos(this.direction)*s),this.isStrafingLeft&&(e+=Math.sin(this.direction-Math.PI/2)*c,i+=Math.cos(this.direction-Math.PI/2)*c),this.isStrafingRight&&(e+=Math.sin(this.direction+Math.PI/2)*c,i+=Math.cos(this.direction+Math.PI/2)*c);const r=this.x+e,n=this.z+i;a.checkCollision(r,n,t)||(this.x=r,this.z=n)}static checkCollision(t,e,i){return i.some(i=>{const s=t>i.x-i.w/2&&t<i.x+i.w/2,r=e>i.z-i.d/2&&e<i.z+i.d/2;return s&&r})}turnTowardsMouse(t){const e=2*t.width/5,i=3*t.width/5;if(!(t.mouseX<0||t.mouseX>t.width||t.mouseY<0||t.mouseY>t.height)&&(t.mouseX<e||t.mouseX>i)){const e=t.mouseX-t.width/2;this.direction-=1e-4*e}}updateCamera(t){const e=this.x+100*Math.sin(this.direction),i=this.z+50*Math.cos(this.direction),s=this.x-Math.sin(this.direction),r=this.z-Math.cos(this.direction);t.camera(e,-75,i,s,-75,r,0,1,0)}}const u=a;const d=class{constructor(t,e,i,s,r){this.x=t,this.z=e,this.w=i,this.h=s,this.d=r}display(t,e){t.push(),t.translate(this.x,-this.h/2,this.z),t.texture(e),t.box(this.w,this.h,this.d),t.pop()}};const l=class{constructor(t,e){this.x=t,this.z=e,this.r=50}display(t){t.push(),t.noStroke(),t.translate(this.x,-this.r,this.z),t.fill("red"),t.sphere(this.r),t.pop()}};var f=i(579);const g=150,w=["XXXXXXXXXXXXXXXX XXXXXXXXX","X                 e      X","X               p        X","X       XXXXXXX   X X    X","X       X           X    X","X       X   XX  X   X    X","X       X   Xe  X   X    X X","X           X XXX   X       eXX","X       X           X         X","X       XXXXXXXXXXXXX         X","X    e                        X","X                             X","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"],p=()=>{const t=(0,s.useRef)(null),e=(0,s.useRef)([]),i=(0,s.useRef)([]),r=(0,s.useRef)(null),n=(0,s.useRef)(null),[c,a]=(0,s.useState)(!0),p=(0,s.useCallback)(t=>{t.push(),t.noStroke(),t.fill("mediumseagreen"),t.translate(0,0,0),t.rotateX(t.HALF_PI),t.plane(10*t.width,10*t.height),t.pop()},[]);return(0,s.useEffect)(()=>{const t=t=>{n.current&&("w"===t.key&&(n.current.isMovingForward=!0),"Shift"===t.key&&(n.current.isRunning=!0),"d"===t.key&&(n.current.isStrafingLeft=!0),"a"===t.key&&(n.current.isStrafingRight=!0))},e=t=>{n.current&&("w"===t.key&&(n.current.isMovingForward=!1),"Shift"===t.key&&(n.current.isRunning=!1),"d"===t.key&&(n.current.isStrafingLeft=!1),"a"===t.key&&(n.current.isStrafingRight=!1))};return window.addEventListener("keydown",t),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",e)}},[]),(0,f.jsx)(X(),{setup:(s,X)=>{s.createCanvas(690,450,s.WEBGL).parent(X),s.cursor(s.CROSS),r.current=s.loadFont(o,()=>{t.current=s.loadImage(h,()=>{a(!1)})});for(let t=0;t<w.length;t+=1)for(let r=0;r<w[t].length;r+=1){const X=w[t][r],h=(r-w[t].length/2)*g,o=(t-w.length/2)*g;switch(X){case"p":n.current=new u(h,o);break;case"e":i.current.push(new l(h,o,s));break;case"X":e.current.push(new d(h,o,g,200,g,s))}}},draw:s=>{if(c)return s.background("lightgrey"),r.current&&s.textFont(r.current),s.textSize(32),s.textAlign(s.CENTER,s.CENTER),s.fill("black"),void s.text("Loading...",s.width/2,s.height/2);s.background("deepskyblue"),s.ambientLight(150),s.directionalLight(180,180,180,0,0,-1),p(s),e.current.forEach(e=>e.display(s,t.current)),n.current&&(n.current.turnTowardsMouse(s),n.current.moveForward(e.current),n.current.updateCamera(s)),i.current.forEach(t=>t.display(s))}})};var k=i(9838),m=i(6221);const x=()=>(0,f.jsx)(r.o,{children:(0,f.jsx)(m.A,{children:(0,f.jsx)(k.A,{children:(0,f.jsx)(p,{})})})})}}]);
//# sourceMappingURL=450.4f72af77.chunk.js.map