{"version":3,"sources":["components/LoadingScreen.js","components/Guards/Auth.js","layouts/Container.js","pages/Home/components/HomePage.js","layouts/GuestNav.js","layouts/GuestNavUser.js","layouts/GuestFooter.js","layouts/GuestLayout.js","components/Guards/GuestGuard.js","routesConfig.js","pages/Home/index.js","Routes.js","App.js","index.js","utils/axios.js","services/auth.js","store/useAuthStore.js","components/Page.js"],"names":["LoadingScreen","_ref","showPiece","_jsx","Box","children","Auth","history","useHistory","logout","useAuthStore","state","accessToken","isLoading","setLoading","useState","restoreSession","useCallback","err","useEffect","setAxiosInterceptors","onLogout","push","Container","styles","maxW","mx","px","MotionButton","motion","Button","HomePage","position","mb","base","md","_jsxs","Stack","direction","pb","Flex","p","pl","flex","align","justify","mt","spacing","w","Heading","as","fontSize","lg","textColor","m","Text","color","colorScheme","py","size","whileHover","scale","whileTap","Link","to","overflow","Image","alt","objectFit","src","GuestNav","h","UserForm","useStore","setIsLoading","error","setError","onClick","async","_err$response","_err$response$data","msg","response","data","message","Alert","status","fontWeight","AlertIcon","CloseButton","right","top","GuestFooter","bg","rounded","sm","_hover","textDecoration","GuestLayout","props","isAccessToken","setIsAccessToken","minHeight","display","flexDirection","justifyContent","flexBasis","flexGrow","flexShrink","GuestNavUser","GuestGuard","routesConfig","exact","layout","path","guard","component","Page","lazy","renderRoutes","routes","Switch","map","route","i","Guard","Fragment","Layout","Component","Route","render","Suspense","fallback","loader","Routes","App","theme","extendTheme","fonts","heading","body","ReactDOM","ChakraProvider","BrowserRouter","document","getElementById","instance","axios","create","defaults","baseURL","process","interceptors","use","Promise","reject","removeTokenHeader","headers","common","setSession","token","persist","set","user","redirect","signup","username","surname","email","password","role","avatar","console","log","post","userData","isAdmin","login","name","userId","score","Math","round","signin","localStorage","removeItem","sessionStorage","clear","partialize","title","window","scrollTo"],"mappings":"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","file":"static/js/main.6fcd6524.chunk.js","sourcesContent":["import { Box } from '@chakra-ui/react'\n\nconst LoadingScreen = ({ showPiece }) => {\n  return <Box>...isLoading</Box>\n}\n\nexport default LoadingScreen\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport useAuthStore from 'store/useAuthStore'\r\n// import { handleAuthentication } from '../../services/auth'\r\nimport { setAxiosInterceptors } from '../../utils/axios'\r\nimport LoadingScreen from '../LoadingScreen'\r\n\r\nconst Auth = ({ children }) => {\r\n  const history = useHistory()\r\n  const logout = useAuthStore((state) => state.logout)\r\n  const accessToken = useAuthStore((state) => state.accessToken)\r\n\r\n  const [isLoading, setLoading] = useState(true)\r\n\r\n  const restoreSession = useCallback(() => {\r\n    // handleAuthentication(accessToken)\r\n\r\n    try {\r\n      setLoading(false)\r\n    } catch (err) {\r\n      setLoading(false)\r\n      logout()\r\n    }\r\n  }, [logout])\r\n\r\n  useEffect(() => {\r\n    setAxiosInterceptors({\r\n      onLogout: () => {\r\n        logout()\r\n        history.push('/')\r\n      },\r\n    })\r\n\r\n    if (accessToken) {\r\n      restoreSession()\r\n    } else {\r\n      setLoading(false)\r\n    }\r\n  }, [accessToken, history, logout, restoreSession])\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />\r\n  }\r\n\r\n  return children\r\n}\r\n\r\nexport default Auth\r\n","import { Box } from '@chakra-ui/react'\n\nexport default function Container({ children, ...styles }) {\n  return (\n    <Box maxW=\"1440px\" mx=\"auto\" px={2} {...styles}>\n      {children}\n    </Box>\n  )\n}\n","import { Box, Button, Flex, Heading, Image, Stack, Text } from '@chakra-ui/react'\r\nimport { motion } from 'framer-motion'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Container from 'layouts/Container'\r\n\r\nconst MotionButton = motion(Button)\r\n\r\nexport default function HomePage() {\r\n  return (\r\n    <Container position=\"relative\" mb={{ base: 36, md: 0 }}>\r\n      <Stack direction={{ base: 'column', md: 'row' }} pb={16}>\r\n        <Flex p={{ base: 4, md: 8 }} pl={0} flex={1} align={'center'} justify={'center'} mt={16}>\r\n          <Stack spacing={4} justify={{ base: 'center', md: 'start' }} w={{ md: 'full' }}>\r\n            <Box>\r\n              <Heading as=\"h1\" fontSize={{ base: '4xl', md: '5xl', lg: '6xl' }} textColor=\"#2D81A5\" m={0} p={0}>\r\n                From for test AUTH\r\n              </Heading>\r\n              <Text fontSize={{ base: 'lg', lg: 'xl' }} color=\"teal.500\">\r\n                Just fill the form and do request\r\n              </Text>\r\n            </Box>\r\n            <MotionButton\r\n              colorScheme=\"teal\"\r\n              w={56}\r\n              py={8}\r\n              as=\"a\"\r\n              size=\"lg\"\r\n              fontSize=\"3xl\"\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <Link to=\"/signup\">Make Now</Link>\r\n            </MotionButton>\r\n          </Stack>\r\n        </Flex>\r\n        <Flex flex={1} justify=\"center\" align=\"center\" position=\"relative\" overflow=\"hidden\">\r\n          <Image\r\n            alt={'Login image'}\r\n            objectFit={'cover'}\r\n            src={\r\n              'https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80'\r\n            }\r\n          />\r\n        </Flex>\r\n      </Stack>\r\n    </Container>\r\n  )\r\n}\r\n","import { Link } from 'react-router-dom'\nimport { Box, Button, Flex, Stack, Image } from '@chakra-ui/react'\nimport { motion } from 'framer-motion'\nimport Container from './Container'\n\nconst MotionButton = motion(Button)\n\nexport default function GuestNav() {\n  return (\n    <Container>\n      <Flex mx=\"auto\" justify=\"space-between\" py={2} align=\"center\">\n        <Link to=\"/\">\n          <Flex align=\"center\">\n            <Box h={20}>\n              <Image src=\"https://svgshare.com/i/Gts.svg\" h={{ base: 12, md: 20 }} mt={{ base: 4, md: 0 }} />\n            </Box>\n          </Flex>\n        </Link>\n        <Stack direction=\"row\" spacing={6}>\n          <MotionButton\n            as={Link}\n            to=\"/signup\"\n            colorScheme=\"teal\"\n            px={{ base: 4, md: 8 }}\n            py={{ base: 2, md: 6 }}\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.97 }}\n            fontSize={{ base: 'md', md: 'xl' }}\n          >\n            Sign Up\n          </MotionButton>\n          <MotionButton\n            as={Link}\n            to=\"/login\"\n            colorScheme=\"gray\"\n            color=\"teal.400\"\n            px={{ base: 4, md: 8 }}\n            py={{ base: 2, md: 6 }}\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.97 }}\n            fontSize={{ base: 'md', md: 'xl' }}\n          >\n            Login\n          </MotionButton>\n        </Stack>\n      </Flex>\n    </Container>\n  )\n}\n","import useStore from 'store/useAuthStore'\r\nimport { useState } from 'react'\r\nimport { Alert, AlertIcon, Box, Button, CloseButton, Flex, Image, Stack } from '@chakra-ui/react'\r\nimport Container from './Container'\r\nimport { Link } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\n\r\nconst MotionButton = motion(Button)\r\n\r\nexport default function UserForm() {\r\n  const logout = useStore((state) => state.logout)\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(false)\r\n\r\n  async function handleLogOut() {\r\n    // e.preventDefault()\r\n    setIsLoading(true)\r\n    setError(false)\r\n\r\n    try {\r\n      await logout()\r\n    } catch (err) {\r\n      const msg = err.response?.data?.message || err.message\r\n      setError(msg)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Flex mx=\"auto\" justify=\"space-between\" py={2} align=\"center\">\r\n        <Link to=\"/\">\r\n          <Flex align=\"center\">\r\n            <Box h={20}>\r\n              <Image src=\"https://svgshare.com/i/Gts.svg\" h={{ base: 12, md: 20 }} mt={{ base: 4, md: 0 }} />\r\n            </Box>\r\n          </Flex>\r\n        </Link>\r\n        <Stack direction=\"row\" spacing={6}>\r\n          <MotionButton\r\n            as={Link}\r\n            to=\"/\"\r\n            colorScheme=\"gray\"\r\n            color=\"teal.400\"\r\n            px={{ base: 4, md: 8 }}\r\n            py={{ base: 2, md: 6 }}\r\n            whileHover={{ scale: 1.03 }}\r\n            whileTap={{ scale: 0.97 }}\r\n            fontSize={{ base: 'md', md: 'xl' }}\r\n            isLoading={isLoading}\r\n            onClick={handleLogOut}\r\n          >\r\n            Logout\r\n          </MotionButton>\r\n        </Stack>\r\n        {error && (\r\n          <Alert status=\"error\" mt={4} color=\"teal.700\" fontWeight=\"semibold\">\r\n            <AlertIcon />\r\n            <CloseButton position=\"absolute\" right=\"8px\" top=\"8px\" onClick={() => setError(false)} />\r\n            {error}\r\n          </Alert>\r\n        )}\r\n      </Flex>\r\n    </Container>\r\n  )\r\n}\r\n","import { Link } from 'react-router-dom'\n// import Lottie from 'react-lottie-player'\nimport { Container, Stack, Text } from '@chakra-ui/react'\n\nexport default function GuestFooter() {\n  // const lottieRef = useRef()\n\n  return (\n    <Container as={Stack} py={4} bg=\"teal.500\" maxW=\"1440px\" rounded={{ md: '2xl' }}>\n      <Stack direction={{ base: 'column', sm: 'row' }} justify=\"center\" align=\"center\" spacing={8} color=\"black\">\n        <Text _hover={{ textDecoration: 'underline' }}>\n          <Link to=\"/\">Home</Link>\n        </Text>\n        <Text _hover={{ textDecoration: 'underline' }}>\n          <Link to=\"/contact\">Contact</Link>\n        </Text>\n        <Text _hover={{ textDecoration: 'underline' }}>\n          <Link to=\"/about\">About</Link>\n        </Text>\n      </Stack>\n    </Container>\n  )\n}\n","import { useEffect, useState } from 'react'\r\nimport { Box } from '@chakra-ui/react'\r\n\r\nimport GuestNav from './GuestNav'\r\nimport GuestNavUser from './GuestNavUser'\r\nimport GuestFooter from './GuestFooter'\r\nimport useAuthStore from '../store/useAuthStore'\r\n\r\nfunction GuestLayout(props) {\r\n  const accessToken = useAuthStore((state) => state.accessToken)\r\n  const [isAccessToken, setIsAccessToken] = useState(null)\r\n  useEffect(() => {\r\n    setIsAccessToken(accessToken)\r\n  }, [accessToken])\r\n\r\n  return (\r\n    <Box minHeight=\"100vh\" display=\"flex\" flexDirection=\"column\" justifyContent=\"space-between\">\r\n      <Box flexBasis=\"auto\" flexGrow=\"1\" flexShrink=\"1\">\r\n        {isAccessToken ? <GuestNavUser /> : <GuestNav />}\r\n        <main>{props.children}</main>\r\n      </Box>\r\n      <GuestFooter />\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default GuestLayout\r\n","function GuestGuard({ children }) {\r\n  return children\r\n}\r\n\r\nexport default GuestGuard\r\n","import { lazy } from 'react'\r\n\r\nimport HomeDefault from './pages/Home'\r\nimport GuestLayout from './layouts/GuestLayout'\r\nimport GuestGuard from 'components/Guards/GuestGuard'\r\n\r\nconst routesConfig = [\r\n  {\r\n    exact: true,\r\n    layout: GuestLayout,\r\n    path: '/',\r\n    guard: GuestGuard,\r\n    component: HomeDefault,\r\n  },\r\n  {\r\n    exact: true,\r\n    layout: GuestLayout,\r\n    path: '/contact',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Contact')),\r\n  },\r\n  {\r\n    exact: true,\r\n    layout: GuestLayout,\r\n    path: '/about',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/About')),\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/login',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Login')),\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/signup',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Signup')),\r\n  },\r\n  {\r\n    exact: false,\r\n    path: '/success',\r\n    layout: GuestLayout,\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Success')),\r\n  },\r\n]\r\n\r\nexport default routesConfig\r\n","import Page from 'components/Page'\r\n\r\nimport HomePage from './components/HomePage'\r\n\r\nexport default function HomeDefault() {\r\n  return (\r\n    <Page>\r\n      <HomePage />\r\n    </Page>\r\n  )\r\n}\r\n","import { Suspense, Fragment } from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport routes from './routesConfig'\nimport LoadingScreen from 'components/LoadingScreen'\n\nconst renderRoutes = (routes) => (\n  <Switch>\n    {routes.map((route, i) => {\n      const Guard = route.guard || Fragment\n      const Layout = route.layout || Fragment\n      const Component = route.component\n\n      return (\n        <Route\n          key={i}\n          path={route.path}\n          exact={route.exact}\n          render={(props) => (\n            <Suspense fallback={<LoadingScreen showPiece={route.loader} />}>\n              <Guard>\n                <Layout>{route.routes ? renderRoutes(route.routes) : <Component {...props} />}</Layout>\n              </Guard>\n            </Suspense>\n          )}\n        />\n      )\n    })}\n  </Switch>\n)\n\nfunction Routes() {\n  return renderRoutes(routes)\n}\n\nexport default Routes\n","import './App.css'\nimport Auth from './components/Guards/Auth'\nimport Routes from './Routes'\n\nfunction App() {\n  return (\n    <Auth>\n      <Routes />\n    </Auth>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { ChakraProvider, extendTheme } from '@chakra-ui/react'\nimport './index.css'\nimport App from './App'\n\nconst theme = extendTheme({\n  fonts: {\n    heading: `'Roboto', sans-serif`,\n    body: `'Montserrat', sans-serif`,\n  },\n})\n\nReactDOM.render(\n  <ChakraProvider theme={theme}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </ChakraProvider>,\n  document.getElementById('root'),\n)\n","import axios from 'axios'\n\nconst instance = axios.create()\n\ninstance.defaults.baseURL = process.env.REACT_APP_SERVER_API\n// instance.defaults.baseURL = process.env.REACT_APP_LOCAL_API\n\n// another case\n// const api = axios.create({\n//   baseURL: process.env.REACT_APP_SERVER_API,\n// })\n\nexport const setAxiosInterceptors = ({ onLogout }) => {\n  instance.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      if (error.response && error.response.status === 401) {\n        if (onLogout) {\n          onLogout()\n        }\n      }\n\n      return Promise.reject(error)\n    },\n  )\n}\n\nexport const removeTokenHeader = () => {\n  delete instance.defaults.headers.common['Authorization']\n  // delete api.defaults.headers.common['Authorization']\n}\n\nexport default instance\n// export default api\n","import jwtDecode from 'jwt-decode'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'utils/axios'\nimport instance from 'utils/axios'\n// import useAuthStore from 'store/useAuthStore'\n\nconst isValidToken = (accessToken) => {\n  if (!accessToken) {\n    return false\n  }\n\n  const decoded = jwtDecode(accessToken)\n  const currentTime = Date.now() / 1000\n\n  return decoded.exp > currentTime\n}\n\nconst setSession = (accessToken) => {\n  if (accessToken) {\n    axios.defaults.headers.common.token = accessToken\n\n    // or this case\n    // const token = {\n    //   set(accessToken) {\n    //     axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`\n    //   },\n    //   unset() {\n    //     axios.defaults.headers.common.Authorization = ''\n    //   },\n    // }\n  }\n}\n\nexport const useAuthHandler = () => {\n  const history = useHistory()\n\n  const handleAuthentication = (accessToken) => {\n    if (isValidToken(accessToken)) {\n      setSession(accessToken)\n\n      if (accessToken) {\n        history.push('/')\n      }\n    }\n  }\n\n  return handleAuthentication\n}\n\nexport const signin = async (name, password) => {\n  try {\n    console.log('base IN', instance.defaults.baseURL)\n\n    const response = await axios.post('/api/auth/login', {\n      email: name,\n      password: password,\n    })\n\n    console.log('response LOGIN', response.data)\n\n    const { token, userData, userId } = response.data\n\n    setSession(token)\n\n    const user = {\n      userId,\n      username: userData.role,\n      score: Math.round(2000) || 300,\n    }\n\n    if (userData.role === 'admin') {\n      user.isAdmin = true\n      user.status = 'admin'\n    } else if (userData.role === 'user') {\n      user.status = 'user'\n    } else {\n      user.status = 'guest'\n    }\n\n    return {\n      user,\n      accessToken: token,\n    }\n  } catch (error) {\n    throw error\n  }\n}\n\nexport const signup = async ({ username, surname, email, password, role, avatar, message }) => {\n  try {\n    console.log('base UP', instance.defaults.baseURL)\n\n    const response = await axios.post('/api/auth/signup', {\n      username: username,\n      surname: surname,\n      email: email,\n      password: password,\n      message: message,\n      role: role,\n      avatar: avatar,\n    })\n\n    const { userData, token } = response.data\n\n    setSession(token)\n\n    if (userData.role === 'admin') {\n      userData.isAdmin = true\n    } else if (userData.role === 'user') {\n      userData.status = 'user'\n    } else {\n      userData.status = 'guest'\n    }\n\n    return {\n      user: userData,\n      accessToken: token,\n    }\n  } catch (error) {\n    throw error\n  }\n}\n\nexport default useAuthHandler\n","import create from 'zustand'\nimport { persist } from 'zustand/middleware'\n\nimport { signin, signup } from 'services/auth'\nimport { removeTokenHeader } from 'utils/axios'\n\nconst store = (set) => ({\n  accessToken: null,\n  user: null,\n  redirect: null,\n  signup: async ({ username, surname, email, password, role, message, avatar }) => {\n    const { accessToken, user } = await signup({\n      username,\n      surname,\n      email,\n      password,\n      message,\n      role,\n      avatar,\n    })\n\n    let redirect = '/'\n\n    set({\n      user,\n      accessToken,\n      redirect,\n    })\n  },\n  login: async (username, password) => {\n    const { accessToken, user } = await signin(username, password)\n\n    console.log('user', user)\n    console.log('login accessToken', accessToken)\n\n    set({\n      user,\n      accessToken,\n    })\n  },\n  logout: () => {\n    // clear state\n    set({ accessToken: null, user: null, redirect: null })\n    // useSettingsStore.getState().reset()\n\n    // clear local storage\n    localStorage.removeItem('auth')\n    // localStorage.removeItem('settings')\n\n    // clearing session (zoom stores user email and name)\n    sessionStorage.clear()\n\n    // clear saved token from axios\n    removeTokenHeader()\n  },\n})\n\nconst useAuthStore = create(\n  persist(store, {\n    name: 'auth',\n    partialize: (state) => ({\n      user: state.user,\n      accessToken: state.accessToken,\n    }),\n  }),\n)\n\nexport default useAuthStore\n","import { useEffect } from 'react'\n\nfunction Page({ children, title }) {\n  useEffect(() => {\n    document.title = title || 'Page with Content!'\n    window.scrollTo(0, 0)\n  }, [title])\n\n  return children\n}\n\nexport default Page\n"],"sourceRoot":""}