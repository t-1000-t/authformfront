{"version":3,"sources":["components/LoadingScreen.js","components/Guards/Auth.js","layouts/Container.js","pages/Home/components/HomePage.js","layouts/GuestNav.js","layouts/GuestNavUser.js","layouts/GuestFooter.js","layouts/GuestLayout.js","components/Guards/GuestGuard.js","routesConfig.js","pages/Home/index.js","Routes.js","App.js","index.js","utils/axios.js","services/auth.js","store/useAuthStore.js","components/Page.js"],"names":["LoadingScreen","_ref","showPiece","_jsx","Box","children","Auth","history","useHistory","logout","useAuthStore","state","accessToken","_useState","useState","_useState2","_slicedToArray","isLoading","setLoading","restoreSession","useCallback","err","useEffect","setAxiosInterceptors","onLogout","push","Container","styles","_objectWithoutProperties","_excluded","_objectSpread","maxW","mx","px","MotionButton","motion","Button","HomePage","position","mb","base","md","_jsxs","Stack","direction","pb","Flex","p","pl","flex","align","justify","mt","spacing","w","Heading","as","fontSize","lg","textColor","m","Text","color","colorScheme","py","size","whileHover","scale","whileTap","Link","to","overflow","Image","alt","objectFit","src","GuestNav","h","UserForm","useStore","setIsLoading","_useState3","_useState4","error","setError","_handleLogOut","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_err$response","_err$response$data","msg","wrap","_context","prev","next","t0","response","data","message","finish","stop","apply","arguments","onClick","Alert","status","fontWeight","AlertIcon","CloseButton","right","top","GuestFooter","bg","rounded","sm","_hover","textDecoration","GuestLayout","props","isAccessToken","setIsAccessToken","minHeight","display","flexDirection","justifyContent","flexBasis","flexGrow","flexShrink","GuestNavUser","GuestGuard","routesConfig","exact","layout","path","guard","component","Page","lazy","renderRoutes","routes","Switch","map","route","i","Guard","Fragment","Layout","Component","Route","render","Suspense","fallback","loader","Routes","App","theme","extendTheme","fonts","heading","body","ReactDOM","ChakraProvider","BrowserRouter","document","getElementById","instance","axios","create","defaults","baseURL","process","interceptors","use","Promise","reject","removeTokenHeader","headers","common","setSession","token","signin","name","password","_response$data","userData","userId","user","console","log","post","email","sent","username","role","score","Math","round","isAdmin","abrupt","_x","_x2","signup","_ref3","_callee2","_ref2","surname","avatar","_response$data2","_context2","_x3","persist","set","redirect","_signup2","_yield$_signup","login","_login","_yield$signin","localStorage","removeItem","sessionStorage","clear","partialize","title","window","scrollTo"],"mappings":"+QAMeA,EAJO,SAAHC,GAAeA,EAATC,UACvB,OAAOC,cAACC,IAAG,CAAAC,SAAC,gBACd,EC2CeC,EAxCF,SAAHL,GAAsB,IAAhBI,EAAQJ,EAARI,SACRE,EAAUC,cACVC,EAASC,aAAa,SAACC,GAAK,OAAKA,EAAMF,MAAM,IAC7CG,EAAcF,aAAa,SAACC,GAAK,OAAKA,EAAMC,WAAW,IAE7DC,EAAgCC,oBAAS,GAAKC,EAAAC,YAAAH,EAAA,GAAvCI,EAASF,EAAA,GAAEG,EAAUH,EAAA,GAEtBI,EAAiBC,uBAAY,WAGjC,IACEF,GAAW,EACb,CAAE,MAAOG,GACPH,GAAW,GACXT,GACF,CACF,GAAG,CAACA,IAiBJ,OAfAa,qBAAU,WACRC,YAAqB,CACnBC,SAAU,WACRf,IACAF,EAAQkB,KAAK,IACf,IAGEb,EACFO,IAEAD,GAAW,EAEf,GAAG,CAACN,EAAaL,EAASE,EAAQU,IAE9BF,EACKd,cAACH,EAAa,IAGhBK,CACT,E,gEC3Ce,SAASqB,EAASzB,GAA2B,IAAxBI,EAAQJ,EAARI,SAAasB,EAAMC,YAAA3B,EAAA4B,GACrD,OACE1B,cAACC,IAAG0B,wBAAA,CAACC,KAAK,SAASC,GAAG,OAAOC,GAAI,GAAON,GAAM,IAAAtB,SAC3CA,IAGP,CCFA,IAAM6B,EAAeC,YAAOC,KAEb,SAASC,IACtB,OACElC,cAACuB,EAAS,CAACY,SAAS,WAAWC,GAAI,CAAEC,KAAM,GAAIC,GAAI,GAAIpC,SACrDqC,eAACC,IAAK,CAACC,UAAW,CAAEJ,KAAM,SAAUC,GAAI,OAASI,GAAI,GAAGxC,SAAA,CACtDF,cAAC2C,IAAI,CAACC,EAAG,CAAEP,KAAM,EAAGC,GAAI,GAAKO,GAAI,EAAGC,KAAM,EAAGC,MAAO,SAAUC,QAAS,SAAUC,GAAI,GAAG/C,SACtFqC,eAACC,IAAK,CAACU,QAAS,EAAGF,QAAS,CAAEX,KAAM,SAAUC,GAAI,SAAWa,EAAG,CAAEb,GAAI,QAASpC,SAAA,CAC7EqC,eAACtC,IAAG,CAAAC,SAAA,CACFF,cAACoD,IAAO,CAACC,GAAG,KAAKC,SAAU,CAAEjB,KAAM,MAAOC,GAAI,MAAOiB,GAAI,OAASC,UAAU,UAAUC,EAAG,EAAGb,EAAG,EAAE1C,SAAC,uBAGlGF,cAAC0D,IAAI,CAACJ,SAAU,CAAEjB,KAAM,KAAMkB,GAAI,MAAQI,MAAM,WAAUzD,SAAC,yCAI7DF,cAAC+B,EAAY,CACX6B,YAAY,OACZT,EAAG,GACHU,GAAI,EACJR,GAAG,IACHS,KAAK,KACLR,SAAS,MACTS,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KAAO9D,SAE1BF,cAACkE,IAAI,CAACC,GAAG,UAASjE,SAAC,oBAIzBF,cAAC2C,IAAI,CAACG,KAAM,EAAGE,QAAQ,SAASD,MAAM,SAASZ,SAAS,WAAWiC,SAAS,SAAQlE,SAClFF,cAACqE,IAAK,CACJC,IAAK,cACLC,UAAW,QACXC,IACE,2KAOd,CC3CA,IAAMzC,EAAeC,YAAOC,KAEb,SAASwC,IACtB,OACEzE,cAACuB,EAAS,CAAArB,SACRqC,eAACI,IAAI,CAACd,GAAG,OAAOmB,QAAQ,gBAAgBa,GAAI,EAAGd,MAAM,SAAQ7C,SAAA,CAC3DF,cAACkE,IAAI,CAACC,GAAG,IAAGjE,SACVF,cAAC2C,IAAI,CAACI,MAAM,SAAQ7C,SAClBF,cAACC,IAAG,CAACyE,EAAG,GAAGxE,SACTF,cAACqE,IAAK,CAACG,IAAI,iCAAiCE,EAAG,CAAErC,KAAM,GAAIC,GAAI,IAAMW,GAAI,CAAEZ,KAAM,EAAGC,GAAI,WAI9FC,eAACC,IAAK,CAACC,UAAU,MAAMS,QAAS,EAAEhD,SAAA,CAChCF,cAAC+B,EAAY,CACXsB,GAAIa,IACJC,GAAG,UACHP,YAAY,OACZ9B,GAAI,CAAEO,KAAM,EAAGC,GAAI,GACnBuB,GAAI,CAAExB,KAAM,EAAGC,GAAI,GACnByB,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBV,SAAU,CAAEjB,KAAM,KAAMC,GAAI,MAAOpC,SACpC,YAGDF,cAAC+B,EAAY,CACXsB,GAAIa,IACJC,GAAG,SACHP,YAAY,OACZD,MAAM,WACN7B,GAAI,CAAEO,KAAM,EAAGC,GAAI,GACnBuB,GAAI,CAAExB,KAAM,EAAGC,GAAI,GACnByB,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBV,SAAU,CAAEjB,KAAM,KAAMC,GAAI,MAAOpC,SACpC,iBAOX,C,oCCzCM6B,EAAeC,YAAOC,KAEb,SAAS0C,IACtB,IAAMrE,EAASsE,aAAS,SAACpE,GAAK,OAAKA,EAAMF,MAAM,IAE/CI,EAAkCC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA1CI,EAASF,EAAA,GAAEiE,EAAYjE,EAAA,GAC9BkE,EAA0BnE,oBAAS,GAAMoE,EAAAlE,YAAAiE,EAAA,GAAlCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEK,SAAAG,IAa1B,OAb0BA,EAAAC,YAAAC,cAAAC,MAA3B,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,cAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGiB,OADfhB,GAAa,GACbI,GAAS,GAAMU,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGPvF,IAAQ,OAAAqF,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAG,GAAAH,EAAA,SAERF,GAAkB,QAAZF,EAAAI,EAAAG,GAAIC,gBAAQ,IAAAR,GAAM,QAANC,EAAZD,EAAcS,YAAI,IAAAR,OAAN,EAAZA,EAAoBS,UAAWN,EAAAG,GAAIG,QAC/ChB,EAASQ,GAAI,QAEM,OAFNE,EAAAC,KAAA,GAEbf,GAAa,GAAMc,EAAAO,OAAA,6BAAAP,EAAAQ,OAAA,GAAAb,EAAA,yBAEtBc,MAAA,KAAAC,UAAA,CAED,OACErG,cAACuB,EAAS,CAAArB,SACRqC,eAACI,IAAI,CAACd,GAAG,OAAOmB,QAAQ,gBAAgBa,GAAI,EAAGd,MAAM,SAAQ7C,SAAA,CAC3DF,cAACkE,IAAI,CAACC,GAAG,IAAGjE,SACVF,cAAC2C,IAAI,CAACI,MAAM,SAAQ7C,SAClBF,cAACC,IAAG,CAACyE,EAAG,GAAGxE,SACTF,cAACqE,IAAK,CAACG,IAAI,iCAAiCE,EAAG,CAAErC,KAAM,GAAIC,GAAI,IAAMW,GAAI,CAAEZ,KAAM,EAAGC,GAAI,WAI9FtC,cAACwC,IAAK,CAACC,UAAU,MAAMS,QAAS,EAAEhD,SAChCF,cAAC+B,EAAY,CACXsB,GAAIa,IACJC,GAAG,IACHP,YAAY,OACZD,MAAM,WACN7B,GAAI,CAAEO,KAAM,EAAGC,GAAI,GACnBuB,GAAI,CAAExB,KAAM,EAAGC,GAAI,GACnByB,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBV,SAAU,CAAEjB,KAAM,KAAMC,GAAI,MAC5BxB,UAAWA,EACXwF,QAvC+B,WAEd,OAAApB,EAAAkB,MAAC,KAADC,UAAA,EAqCKnG,SACvB,aAIF8E,GACCzC,eAACgE,IAAK,CAACC,OAAO,QAAQvD,GAAI,EAAGU,MAAM,WAAW8C,WAAW,WAAUvG,SAAA,CACjEF,cAAC0G,IAAS,IACV1G,cAAC2G,IAAW,CAACxE,SAAS,WAAWyE,MAAM,MAAMC,IAAI,MAAMP,QAAS,kBAAMrB,GAAS,EAAM,IACpFD,SAMb,CC/De,SAAS8B,IAGtB,OACE9G,cAACuB,IAAS,CAAC8B,GAAIb,IAAOqB,GAAI,EAAGkD,GAAG,WAAWnF,KAAK,SAASoF,QAAS,CAAE1E,GAAI,OAAQpC,SAC9EqC,eAACC,IAAK,CAACC,UAAW,CAAEJ,KAAM,SAAU4E,GAAI,OAASjE,QAAQ,SAASD,MAAM,SAASG,QAAS,EAAGS,MAAM,QAAOzD,SAAA,CACxGF,cAAC0D,IAAI,CAACwD,OAAQ,CAAEC,eAAgB,aAAcjH,SAC5CF,cAACkE,IAAI,CAACC,GAAG,IAAGjE,SAAC,WAEfF,cAAC0D,IAAI,CAACwD,OAAQ,CAAEC,eAAgB,aAAcjH,SAC5CF,cAACkE,IAAI,CAACC,GAAG,WAAUjE,SAAC,cAEtBF,cAAC0D,IAAI,CAACwD,OAAQ,CAAEC,eAAgB,aAAcjH,SAC5CF,cAACkE,IAAI,CAACC,GAAG,SAAQjE,SAAC,gBAK5B,CCIekH,MAlBf,SAAqBC,GACnB,IAAM5G,EAAcF,aAAa,SAACC,GAAK,OAAKA,EAAMC,WAAW,IAC7DC,EAA0CC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAAjD4G,EAAa1G,EAAA,GAAE2G,EAAgB3G,EAAA,GAKtC,OAJAO,qBAAU,WACRoG,EAAiB9G,EACnB,GAAG,CAACA,IAGF8B,eAACtC,IAAG,CAACuH,UAAU,QAAQC,QAAQ,OAAOC,cAAc,SAASC,eAAe,gBAAezH,SAAA,CACzFqC,eAACtC,IAAG,CAAC2H,UAAU,OAAOC,SAAS,IAAIC,WAAW,IAAG5H,SAAA,CAC9CoH,EAAgBtH,cAAC+H,EAAY,IAAM/H,cAACyE,EAAQ,IAC7CzE,cAAA,QAAAE,SAAOmH,EAAMnH,cAEfF,cAAC8G,EAAW,MAGlB,ECpBekB,MAJf,SAAmBlI,GACjB,OAD4BA,EAARI,QAEtB,EC+Ce+H,EA3CM,CACnB,CACEC,OAAO,EACPC,OAAQf,EACRgB,KAAM,IACNC,MAAOL,EACPM,UCRW,WACb,OACEtI,cAACuI,IAAI,CAAArI,SACHF,cAACkC,EAAQ,KAGf,GDIE,CACEgG,OAAO,EACPC,OAAQf,EACRgB,KAAM,WACNC,MAAOL,EACPM,UAAWE,gBAAK,kBAAM,0DAAuB,KAE/C,CACEN,OAAO,EACPC,OAAQf,EACRgB,KAAM,SACNC,MAAOL,EACPM,UAAWE,gBAAK,kBAAM,6BAAqB,KAE7C,CACEN,OAAO,EACPE,KAAM,SACNC,MAAOL,EACPM,UAAWE,gBAAK,kBAAM,iEAAqB,KAE7C,CACEN,OAAO,EACPE,KAAM,UACNC,MAAOL,EACPM,UAAWE,gBAAK,kBAAM,kEAAsB,KAE9C,CACEN,OAAO,EACPE,KAAM,WACND,OAAQf,EACRiB,MAAOL,EACPM,UAAWE,gBAAK,kBAAM,8BAAuB,MEvC3CC,EAAe,SAAfA,EAAgBC,GAAM,OAC1B1I,cAAC2I,IAAM,CAAAzI,SACJwI,EAAOE,KAAI,SAACC,EAAOC,GAClB,IAAMC,EAAQF,EAAMR,OAASW,WACvBC,EAASJ,EAAMV,QAAUa,WACzBE,EAAYL,EAAMP,UAExB,OACEtI,cAACmJ,IAAK,CAEJf,KAAMS,EAAMT,KACZF,MAAOW,EAAMX,MACbkB,OAAQ,SAAC/B,GAAK,OACZrH,cAACqJ,WAAQ,CAACC,SAAUtJ,cAACH,EAAa,CAACE,UAAW8I,EAAMU,SAAWrJ,SAC7DF,cAAC+I,EAAK,CAAA7I,SACJF,cAACiJ,EAAM,CAAA/I,SAAE2I,EAAMH,OAASD,EAAaI,EAAMH,QAAU1I,cAACkJ,EAASvH,YAAA,GAAK0F,SAE7D,GARRyB,EAYX,KACO,EAOIU,MAJf,WACE,OAAOf,EAAaC,EACtB,ECrBee,MARf,WACE,OACEzJ,cAACG,EAAI,CAAAD,SACHF,cAACwJ,EAAM,KAGb,ECHME,EAAQC,YAAY,CACxBC,MAAO,CACLC,QAAQ,uBACRC,KAAK,8BAITC,IAASX,OACPpJ,cAACgK,IAAc,CAACN,MAAOA,EAAMxJ,SAC3BF,cAACiK,IAAa,CAAA/J,SACZF,cAACyJ,EAAG,QAGRS,SAASC,eAAe,Q,kCCpB1B,gFAEMC,EAFN,OAEiBC,EAAMC,SAEvBF,EAASG,SAASC,QAAUC,8CAQrB,IAAMrJ,EAAuB,SAAHtB,GAAsB,IAAhBuB,EAAQvB,EAARuB,SACrC+I,EAASM,aAAa3E,SAAS4E,KAC7B,SAAC5E,GAAQ,OAAKA,CAAQ,IACtB,SAACf,GAOC,OANIA,EAAMe,UAAsC,MAA1Bf,EAAMe,SAASS,QAC/BnF,GACFA,IAIGuJ,QAAQC,OAAO7F,EACxB,GAEJ,EAEa8F,EAAoB,kBACxBV,EAASG,SAASQ,QAAQC,OAAsB,aAEzD,EAEeZ,K,oGCfTa,EAAa,SAACxK,GACdA,IACF4J,IAAME,SAASQ,QAAQC,OAAOE,MAAQzK,EAY1C,EAkBa0K,EAAM,eAAArL,EAAAqF,YAAAC,cAAAC,MAAG,SAAAC,EAAO8F,EAAMC,GAAQ,IAAAtF,EAAAuF,EAAAJ,EAAAK,EAAAC,EAAAC,EAAA,OAAArG,cAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEU,OAFVF,EAAAC,KAAA,EAEvC8F,QAAQC,IAAI,UAAWvB,IAASG,SAASC,SAAQ7E,EAAAE,KAAA,EAE1BwE,IAAMuB,KAAK,kBAAmB,CACnDC,MAAOT,EACPC,SAAUA,IACV,OAqBD,OAxBKtF,EAAQJ,EAAAmG,KAKdJ,QAAQC,IAAI,iBAAkB5F,EAASC,MAAKsF,EAERvF,EAASC,KAArCkF,EAAKI,EAALJ,MAAOK,EAAQD,EAARC,SAAUC,EAAMF,EAANE,OAEzBP,EAAWC,GAELO,EAAO,CACXD,SACAO,SAAUR,EAASS,KACnBC,MAAOC,KAAKC,MAAM,MAAS,KAGP,UAAlBZ,EAASS,MACXP,EAAKW,SAAU,EACfX,EAAKjF,OAAS,SACa,SAAlB+E,EAASS,KAClBP,EAAKjF,OAAS,OAEdiF,EAAKjF,OAAS,QACfb,EAAA0G,OAAA,SAEM,CACLZ,OACAhL,YAAayK,IACd,cAAAvF,EAAAC,KAAA,GAAAD,EAAAG,GAAAH,EAAA,SAAAA,EAAAG,GAAA,yBAAAH,EAAAQ,OAAA,GAAAb,EAAA,mBAIJ,gBArCkBgH,EAAAC,GAAA,OAAAzM,EAAAsG,MAAA,KAAAC,UAAA,KAuCNmG,EAAM,eAAAC,EAAAtH,YAAAC,cAAAC,MAAG,SAAAqH,EAAAC,GAAA,IAAAZ,EAAAa,EAAAf,EAAAR,EAAAW,EAAAa,EAAA5G,EAAAF,EAAA+G,EAAAvB,EAAAL,EAAA,OAAA9F,cAAAM,MAAA,SAAAqH,GAAA,cAAAA,EAAAnH,KAAAmH,EAAAlH,MAAA,OAE+B,OAFtBkG,EAAQY,EAARZ,SAAUa,EAAOD,EAAPC,QAASf,EAAKc,EAALd,MAAOR,EAAQsB,EAARtB,SAAUW,EAAIW,EAAJX,KAAMa,EAAMF,EAANE,OAAQ5G,EAAO0G,EAAP1G,QAAO8G,EAAAnH,KAAA,EAEpF8F,QAAQC,IAAI,UAAWvB,IAASG,SAASC,SAAQuC,EAAAlH,KAAA,EAE1BwE,IAAMuB,KAAK,mBAAoB,CACpDG,SAAUA,EACVa,QAASA,EACTf,MAAOA,EACPR,SAAUA,EACVpF,QAASA,EACT+F,KAAMA,EACNa,OAAQA,IACR,OAYD,OApBK9G,EAAQgH,EAAAjB,KAAAgB,EAUc/G,EAASC,KAA7BuF,EAAQuB,EAARvB,SAAUL,EAAK4B,EAAL5B,MAElBD,EAAWC,GAEW,UAAlBK,EAASS,KACXT,EAASa,SAAU,EACQ,SAAlBb,EAASS,KAClBT,EAAS/E,OAAS,OAElB+E,EAAS/E,OAAS,QACnBuG,EAAAV,OAAA,SAEM,CACLZ,KAAMF,EACN9K,YAAayK,IACd,cAAA6B,EAAAnH,KAAA,GAAAmH,EAAAjH,GAAAiH,EAAA,SAAAA,EAAAjH,GAAA,yBAAAiH,EAAA5G,OAAA,GAAAuG,EAAA,mBAIJ,gBAjCkBM,GAAA,OAAAP,EAAArG,MAAA,KAAAC,UAAA,KC/Bb9F,EAAe+J,IACnB2C,mBApDY,SAACC,GAAG,MAAM,CACtBzM,YAAa,KACbgL,KAAM,KACN0B,SAAU,KACVX,OAAO,WAAD,IAAAY,EAAAjI,YAAAC,cAAAC,MAAE,SAAAC,EAAAxF,GAAA,IAAAiM,EAAAa,EAAAf,EAAAR,EAAAW,EAAA/F,EAAA4G,EAAAQ,EAAA5M,EAAAgL,EAAA,OAAArG,cAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAkE,OAAzDkG,EAAQjM,EAARiM,SAAUa,EAAO9M,EAAP8M,QAASf,EAAK/L,EAAL+L,MAAOR,EAAQvL,EAARuL,SAAUW,EAAIlM,EAAJkM,KAAM/F,EAAOnG,EAAPmG,QAAS4G,EAAM/M,EAAN+M,OAAMlH,EAAAE,KAAA,EACpC2G,EAAO,CACzCT,WACAa,UACAf,QACAR,WACApF,UACA+F,OACAa,WACA,OAAAQ,EAAA1H,EAAAmG,KARMrL,EAAW4M,EAAX5M,YAAagL,EAAI4B,EAAJ5B,KAUN,IAEfyB,EAAI,CACFzB,OACAhL,cACA0M,SALa,MAMb,wBAAAxH,EAAAQ,OAAA,GAAAb,EAAA,KACH,gBAAAgH,GAAA,OAAAc,EAAAhH,MAAA,KAAAC,UAAA,EAlBM,GAmBPiH,MAAM,WAAD,IAAAC,EAAApI,YAAAC,cAAAC,MAAE,SAAAqH,EAAOX,EAAUV,GAAQ,IAAAmC,EAAA/M,EAAAgL,EAAA,OAAArG,cAAAM,MAAA,SAAAqH,GAAA,cAAAA,EAAAnH,KAAAmH,EAAAlH,MAAA,cAAAkH,EAAAlH,KAAA,EACMsF,EAAOY,EAAUV,GAAS,OAAAmC,EAAAT,EAAAjB,KAAtDrL,EAAW+M,EAAX/M,YAAagL,EAAI+B,EAAJ/B,KAErBC,QAAQC,IAAI,OAAQF,GACpBC,QAAQC,IAAI,oBAAqBlL,GAEjCyM,EAAI,CACFzB,OACAhL,gBACA,wBAAAsM,EAAA5G,OAAA,GAAAuG,EAAA,KACH,gBAAAH,EAAAS,GAAA,OAAAO,EAAAnH,MAAA,KAAAC,UAAA,EAVK,GAWN/F,OAAQ,WAEN4M,EAAI,CAAEzM,YAAa,KAAMgL,KAAM,KAAM0B,SAAU,OAI/CM,aAAaC,WAAW,QAIxBC,eAAeC,QAGf9C,aACF,EACD,GAGgB,CACbM,KAAM,OACNyC,WAAY,SAACrN,GAAK,MAAM,CACtBiL,KAAMjL,EAAMiL,KACZhL,YAAaD,EAAMC,YACpB,KAIUF,K,kCCnEf,WAWegI,IATf,SAAazI,GAAuB,IAApBI,EAAQJ,EAARI,SAAU4N,EAAKhO,EAALgO,MAMxB,OALA3M,qBAAU,WACR+I,SAAS4D,MAAQA,GAAS,qBAC1BC,OAAOC,SAAS,EAAG,EACrB,GAAG,CAACF,IAEG5N,CACT,C","file":"static/js/main.15c84cd0.chunk.js","sourcesContent":["import { Box } from '@chakra-ui/react'\n\nconst LoadingScreen = ({ showPiece }) => {\n  return <Box>...isLoading</Box>\n}\n\nexport default LoadingScreen\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport useAuthStore from 'store/useAuthStore'\r\n// import { handleAuthentication } from '../../services/auth'\r\nimport { setAxiosInterceptors } from '../../utils/axios'\r\nimport LoadingScreen from '../LoadingScreen'\r\n\r\nconst Auth = ({ children }) => {\r\n  const history = useHistory()\r\n  const logout = useAuthStore((state) => state.logout)\r\n  const accessToken = useAuthStore((state) => state.accessToken)\r\n\r\n  const [isLoading, setLoading] = useState(true)\r\n\r\n  const restoreSession = useCallback(() => {\r\n    // handleAuthentication(accessToken)\r\n\r\n    try {\r\n      setLoading(false)\r\n    } catch (err) {\r\n      setLoading(false)\r\n      logout()\r\n    }\r\n  }, [logout])\r\n\r\n  useEffect(() => {\r\n    setAxiosInterceptors({\r\n      onLogout: () => {\r\n        logout()\r\n        history.push('/')\r\n      },\r\n    })\r\n\r\n    if (accessToken) {\r\n      restoreSession()\r\n    } else {\r\n      setLoading(false)\r\n    }\r\n  }, [accessToken, history, logout, restoreSession])\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />\r\n  }\r\n\r\n  return children\r\n}\r\n\r\nexport default Auth\r\n","import { Box } from '@chakra-ui/react'\n\nexport default function Container({ children, ...styles }) {\n  return (\n    <Box maxW=\"1440px\" mx=\"auto\" px={2} {...styles}>\n      {children}\n    </Box>\n  )\n}\n","import { Box, Button, Flex, Heading, Image, Stack, Text } from '@chakra-ui/react'\nimport { motion } from 'framer-motion'\nimport { Link } from 'react-router-dom'\n\nimport Container from 'layouts/Container'\n\nconst MotionButton = motion(Button)\n\nexport default function HomePage() {\n  return (\n    <Container position=\"relative\" mb={{ base: 36, md: 0 }}>\n      <Stack direction={{ base: 'column', md: 'row' }} pb={16}>\n        <Flex p={{ base: 4, md: 8 }} pl={0} flex={1} align={'center'} justify={'center'} mt={16}>\n          <Stack spacing={4} justify={{ base: 'center', md: 'start' }} w={{ md: 'full' }}>\n            <Box>\n              <Heading as=\"h1\" fontSize={{ base: '4xl', md: '5xl', lg: '6xl' }} textColor=\"#2D81A5\" m={0} p={0}>\n                From for test AUTH\n              </Heading>\n              <Text fontSize={{ base: 'lg', lg: 'xl' }} color=\"teal.500\">\n                Just fill the form and do request\n              </Text>\n            </Box>\n            <MotionButton\n              colorScheme=\"teal\"\n              w={56}\n              py={8}\n              as=\"a\"\n              size=\"lg\"\n              fontSize=\"3xl\"\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n            >\n              <Link to=\"/signup\">Make Now</Link>\n            </MotionButton>\n          </Stack>\n        </Flex>\n        <Flex flex={1} justify=\"center\" align=\"center\" position=\"relative\" overflow=\"hidden\">\n          <Image\n            alt={'Login image'}\n            objectFit={'cover'}\n            src={\n              'https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80'\n            }\n          />\n        </Flex>\n      </Stack>\n    </Container>\n  )\n}\n","import { Link } from 'react-router-dom'\nimport { Box, Button, Flex, Stack, Image } from '@chakra-ui/react'\nimport { motion } from 'framer-motion'\nimport Container from './Container'\n\nconst MotionButton = motion(Button)\n\nexport default function GuestNav() {\n  return (\n    <Container>\n      <Flex mx=\"auto\" justify=\"space-between\" py={2} align=\"center\">\n        <Link to=\"/\">\n          <Flex align=\"center\">\n            <Box h={20}>\n              <Image src=\"https://svgshare.com/i/Gts.svg\" h={{ base: 12, md: 20 }} mt={{ base: 4, md: 0 }} />\n            </Box>\n          </Flex>\n        </Link>\n        <Stack direction=\"row\" spacing={6}>\n          <MotionButton\n            as={Link}\n            to=\"/signup\"\n            colorScheme=\"teal\"\n            px={{ base: 4, md: 8 }}\n            py={{ base: 2, md: 6 }}\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.97 }}\n            fontSize={{ base: 'md', md: 'xl' }}\n          >\n            Sign Up\n          </MotionButton>\n          <MotionButton\n            as={Link}\n            to=\"/login\"\n            colorScheme=\"gray\"\n            color=\"teal.400\"\n            px={{ base: 4, md: 8 }}\n            py={{ base: 2, md: 6 }}\n            whileHover={{ scale: 1.03 }}\n            whileTap={{ scale: 0.97 }}\n            fontSize={{ base: 'md', md: 'xl' }}\n          >\n            Login\n          </MotionButton>\n        </Stack>\n      </Flex>\n    </Container>\n  )\n}\n","import useStore from 'store/useAuthStore'\r\nimport { useState } from 'react'\r\nimport { Alert, AlertIcon, Box, Button, CloseButton, Flex, Image, Stack } from '@chakra-ui/react'\r\nimport Container from './Container'\r\nimport { Link } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\n\r\nconst MotionButton = motion(Button)\r\n\r\nexport default function UserForm() {\r\n  const logout = useStore((state) => state.logout)\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(false)\r\n\r\n  async function handleLogOut() {\r\n    // e.preventDefault()\r\n    setIsLoading(true)\r\n    setError(false)\r\n\r\n    try {\r\n      await logout()\r\n    } catch (err) {\r\n      const msg = err.response?.data?.message || err.message\r\n      setError(msg)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Flex mx=\"auto\" justify=\"space-between\" py={2} align=\"center\">\r\n        <Link to=\"/\">\r\n          <Flex align=\"center\">\r\n            <Box h={20}>\r\n              <Image src=\"https://svgshare.com/i/Gts.svg\" h={{ base: 12, md: 20 }} mt={{ base: 4, md: 0 }} />\r\n            </Box>\r\n          </Flex>\r\n        </Link>\r\n        <Stack direction=\"row\" spacing={6}>\r\n          <MotionButton\r\n            as={Link}\r\n            to=\"/\"\r\n            colorScheme=\"gray\"\r\n            color=\"teal.400\"\r\n            px={{ base: 4, md: 8 }}\r\n            py={{ base: 2, md: 6 }}\r\n            whileHover={{ scale: 1.03 }}\r\n            whileTap={{ scale: 0.97 }}\r\n            fontSize={{ base: 'md', md: 'xl' }}\r\n            isLoading={isLoading}\r\n            onClick={handleLogOut}\r\n          >\r\n            Logout\r\n          </MotionButton>\r\n        </Stack>\r\n        {error && (\r\n          <Alert status=\"error\" mt={4} color=\"teal.700\" fontWeight=\"semibold\">\r\n            <AlertIcon />\r\n            <CloseButton position=\"absolute\" right=\"8px\" top=\"8px\" onClick={() => setError(false)} />\r\n            {error}\r\n          </Alert>\r\n        )}\r\n      </Flex>\r\n    </Container>\r\n  )\r\n}\r\n","import { Link } from 'react-router-dom'\n// import Lottie from 'react-lottie-player'\nimport { Container, Stack, Text } from '@chakra-ui/react'\n\nexport default function GuestFooter() {\n  // const lottieRef = useRef()\n\n  return (\n    <Container as={Stack} py={4} bg=\"teal.500\" maxW=\"1440px\" rounded={{ md: '2xl' }}>\n      <Stack direction={{ base: 'column', sm: 'row' }} justify=\"center\" align=\"center\" spacing={8} color=\"black\">\n        <Text _hover={{ textDecoration: 'underline' }}>\n          <Link to=\"/\">Home</Link>\n        </Text>\n        <Text _hover={{ textDecoration: 'underline' }}>\n          <Link to=\"/contact\">Contact</Link>\n        </Text>\n        <Text _hover={{ textDecoration: 'underline' }}>\n          <Link to=\"/about\">About</Link>\n        </Text>\n      </Stack>\n    </Container>\n  )\n}\n","import { useEffect, useState } from 'react'\r\nimport { Box } from '@chakra-ui/react'\r\n\r\nimport GuestNav from './GuestNav'\r\nimport GuestNavUser from './GuestNavUser'\r\nimport GuestFooter from './GuestFooter'\r\nimport useAuthStore from '../store/useAuthStore'\r\n\r\nfunction GuestLayout(props) {\r\n  const accessToken = useAuthStore((state) => state.accessToken)\r\n  const [isAccessToken, setIsAccessToken] = useState(null)\r\n  useEffect(() => {\r\n    setIsAccessToken(accessToken)\r\n  }, [accessToken])\r\n\r\n  return (\r\n    <Box minHeight=\"100vh\" display=\"flex\" flexDirection=\"column\" justifyContent=\"space-between\">\r\n      <Box flexBasis=\"auto\" flexGrow=\"1\" flexShrink=\"1\">\r\n        {isAccessToken ? <GuestNavUser /> : <GuestNav />}\r\n        <main>{props.children}</main>\r\n      </Box>\r\n      <GuestFooter />\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default GuestLayout\r\n","function GuestGuard({ children }) {\r\n  return children\r\n}\r\n\r\nexport default GuestGuard\r\n","import { lazy } from 'react'\r\n\r\nimport HomeDefault from './pages/Home'\r\nimport GuestLayout from './layouts/GuestLayout'\r\nimport GuestGuard from 'components/Guards/GuestGuard'\r\n\r\nconst routesConfig = [\r\n  {\r\n    exact: true,\r\n    layout: GuestLayout,\r\n    path: '/',\r\n    guard: GuestGuard,\r\n    component: HomeDefault,\r\n  },\r\n  {\r\n    exact: true,\r\n    layout: GuestLayout,\r\n    path: '/contact',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Contact')),\r\n  },\r\n  {\r\n    exact: true,\r\n    layout: GuestLayout,\r\n    path: '/about',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/About')),\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/login',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Login')),\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/signup',\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Signup')),\r\n  },\r\n  {\r\n    exact: false,\r\n    path: '/success',\r\n    layout: GuestLayout,\r\n    guard: GuestGuard,\r\n    component: lazy(() => import('pages/Success')),\r\n  },\r\n]\r\n\r\nexport default routesConfig\r\n","import Page from 'components/Page'\r\n\r\nimport HomePage from './components/HomePage'\r\n\r\nexport default function HomeDefault() {\r\n  return (\r\n    <Page>\r\n      <HomePage />\r\n    </Page>\r\n  )\r\n}\r\n","import { Suspense, Fragment } from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport routes from './routesConfig'\nimport LoadingScreen from 'components/LoadingScreen'\n\nconst renderRoutes = (routes) => (\n  <Switch>\n    {routes.map((route, i) => {\n      const Guard = route.guard || Fragment\n      const Layout = route.layout || Fragment\n      const Component = route.component\n\n      return (\n        <Route\n          key={i}\n          path={route.path}\n          exact={route.exact}\n          render={(props) => (\n            <Suspense fallback={<LoadingScreen showPiece={route.loader} />}>\n              <Guard>\n                <Layout>{route.routes ? renderRoutes(route.routes) : <Component {...props} />}</Layout>\n              </Guard>\n            </Suspense>\n          )}\n        />\n      )\n    })}\n  </Switch>\n)\n\nfunction Routes() {\n  return renderRoutes(routes)\n}\n\nexport default Routes\n","import './App.css'\nimport Auth from './components/Guards/Auth'\nimport Routes from './Routes'\n\nfunction App() {\n  return (\n    <Auth>\n      <Routes />\n    </Auth>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { ChakraProvider, extendTheme } from '@chakra-ui/react'\nimport './index.css'\nimport App from './App'\n\nconst theme = extendTheme({\n  fonts: {\n    heading: `'Roboto', sans-serif`,\n    body: `'Montserrat', sans-serif`,\n  },\n})\n\nReactDOM.render(\n  <ChakraProvider theme={theme}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </ChakraProvider>,\n  document.getElementById('root'),\n)\n","import axios from 'axios'\r\n\r\nconst instance = axios.create()\r\n\r\ninstance.defaults.baseURL = process.env.REACT_APP_SERVER_API\r\n// instance.defaults.baseURL = process.env.REACT_APP_LOCAL_API\r\n\r\n// another case\r\n// const api = axios.create({\r\n//   baseURL: process.env.REACT_APP_SERVER_API,\r\n// })\r\n\r\nexport const setAxiosInterceptors = ({ onLogout }) => {\r\n  instance.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response && error.response.status === 401) {\r\n        if (onLogout) {\r\n          onLogout()\r\n        }\r\n      }\r\n\r\n      return Promise.reject(error)\r\n    },\r\n  )\r\n}\r\n\r\nexport const removeTokenHeader = () => {\r\n  delete instance.defaults.headers.common['Authorization']\r\n  // delete api.defaults.headers.common['Authorization']\r\n}\r\n\r\nexport default instance\r\n// export default api\r\n","import jwtDecode from 'jwt-decode'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from 'utils/axios'\r\nimport instance from 'utils/axios'\r\n// import useAuthStore from 'store/useAuthStore'\r\n\r\nconst isValidToken = (accessToken) => {\r\n  if (!accessToken) {\r\n    return false\r\n  }\r\n\r\n  const decoded = jwtDecode(accessToken)\r\n  const currentTime = Date.now() / 1000\r\n\r\n  return decoded.exp > currentTime\r\n}\r\n\r\nconst setSession = (accessToken) => {\r\n  if (accessToken) {\r\n    axios.defaults.headers.common.token = accessToken\r\n\r\n    // or this case\r\n    // const token = {\r\n    //   set(accessToken) {\r\n    //     axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`\r\n    //   },\r\n    //   unset() {\r\n    //     axios.defaults.headers.common.Authorization = ''\r\n    //   },\r\n    // }\r\n  }\r\n}\r\n\r\nexport const useAuthHandler = () => {\r\n  const history = useHistory()\r\n\r\n  const handleAuthentication = (accessToken) => {\r\n    if (isValidToken(accessToken)) {\r\n      setSession(accessToken)\r\n\r\n      if (accessToken) {\r\n        history.push('/')\r\n      }\r\n    }\r\n  }\r\n\r\n  return handleAuthentication\r\n}\r\n\r\nexport const signin = async (name, password) => {\r\n  try {\r\n    console.log('base IN', instance.defaults.baseURL)\r\n\r\n    const response = await axios.post('/api/auth/login', {\r\n      email: name,\r\n      password: password,\r\n    })\r\n\r\n    console.log('response LOGIN', response.data)\r\n\r\n    const { token, userData, userId } = response.data\r\n\r\n    setSession(token)\r\n\r\n    const user = {\r\n      userId,\r\n      username: userData.role,\r\n      score: Math.round(2000) || 300,\r\n    }\r\n\r\n    if (userData.role === 'admin') {\r\n      user.isAdmin = true\r\n      user.status = 'admin'\r\n    } else if (userData.role === 'user') {\r\n      user.status = 'user'\r\n    } else {\r\n      user.status = 'guest'\r\n    }\r\n\r\n    return {\r\n      user,\r\n      accessToken: token,\r\n    }\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const signup = async ({ username, surname, email, password, role, avatar, message }) => {\r\n  try {\r\n    console.log('base UP', instance.defaults.baseURL)\r\n\r\n    const response = await axios.post('/api/auth/signup', {\r\n      username: username,\r\n      surname: surname,\r\n      email: email,\r\n      password: password,\r\n      message: message,\r\n      role: role,\r\n      avatar: avatar,\r\n    })\r\n\r\n    const { userData, token } = response.data\r\n\r\n    setSession(token)\r\n\r\n    if (userData.role === 'admin') {\r\n      userData.isAdmin = true\r\n    } else if (userData.role === 'user') {\r\n      userData.status = 'user'\r\n    } else {\r\n      userData.status = 'guest'\r\n    }\r\n\r\n    return {\r\n      user: userData,\r\n      accessToken: token,\r\n    }\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n}\r\n\r\nexport default useAuthHandler\r\n","import create from 'zustand'\r\nimport { persist } from 'zustand/middleware'\r\n\r\nimport { signin, signup } from 'services/auth'\r\nimport { removeTokenHeader } from 'utils/axios'\r\n\r\nconst store = (set) => ({\r\n  accessToken: null,\r\n  user: null,\r\n  redirect: null,\r\n  signup: async ({ username, surname, email, password, role, message, avatar }) => {\r\n    const { accessToken, user } = await signup({\r\n      username,\r\n      surname,\r\n      email,\r\n      password,\r\n      message,\r\n      role,\r\n      avatar,\r\n    })\r\n\r\n    let redirect = '/'\r\n\r\n    set({\r\n      user,\r\n      accessToken,\r\n      redirect,\r\n    })\r\n  },\r\n  login: async (username, password) => {\r\n    const { accessToken, user } = await signin(username, password)\r\n\r\n    console.log('user', user)\r\n    console.log('login accessToken', accessToken)\r\n\r\n    set({\r\n      user,\r\n      accessToken,\r\n    })\r\n  },\r\n  logout: () => {\r\n    // clear state\r\n    set({ accessToken: null, user: null, redirect: null })\r\n    // useSettingsStore.getState().reset()\r\n\r\n    // clear local storage\r\n    localStorage.removeItem('auth')\r\n    // localStorage.removeItem('settings')\r\n\r\n    // clearing session (zoom stores user email and name)\r\n    sessionStorage.clear()\r\n\r\n    // clear saved token from axios\r\n    removeTokenHeader()\r\n  },\r\n})\r\n\r\nconst useAuthStore = create(\r\n  persist(store, {\r\n    name: 'auth',\r\n    partialize: (state) => ({\r\n      user: state.user,\r\n      accessToken: state.accessToken,\r\n    }),\r\n  }),\r\n)\r\n\r\nexport default useAuthStore\r\n","import { useEffect } from 'react'\n\nfunction Page({ children, title }) {\n  useEffect(() => {\n    document.title = title || 'Page with Content!'\n    window.scrollTo(0, 0)\n  }, [title])\n\n  return children\n}\n\nexport default Page\n"],"sourceRoot":""}